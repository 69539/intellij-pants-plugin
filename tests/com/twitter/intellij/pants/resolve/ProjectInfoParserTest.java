package com.twitter.intellij.pants.resolve;

import com.twitter.intellij.pants.service.project.PantsDependenciesGraphResolver;
import junit.framework.TestCase;

public class ProjectInfoParserTest extends TestCase {
  public void testParsing() {
    final String data = "{\"libraries\": {}, \"targets\": {\"3rdparty/BUILD:slf4j-jdk14\": {\"libraries\": [\"org.slf4j:slf4j-jdk14:1.6.1\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/jvm/com/twitter/BUILD:scrooge-serializer\": {\"libraries\": [\"com.twitter:scrooge-serializer:3.12.1\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/algebird/BUILD:algebird-core\": {\"libraries\": [\"com.twitter:algebird-core_2.9.3:0.5.0\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/BUILD:thrift-0.5.0\": {\"libraries\": [], \"targets\": [\"3rdparty/BUILD:commons-lang\", \"3rdparty/BUILD:libthrift-0.5.0\", \"3rdparty/BUILD:slf4j-api\", \"3rdparty/BUILD:slf4j-jdk14\"], \"roots\": [], \"test_target\": false}, \"src/scala/com/twitter/algebird_internal/BUILD:algebird_internal\": {\"libraries\": [], \"targets\": [\"src/scala/com/twitter/algebird_internal/bijection/BUILD:bijection\", \"src/scala/com/twitter/algebird_internal/injection/BUILD:injection\"], \"roots\": [], \"test_target\": false}, \"3rdparty/BUILD:libthrift-0.5.0\": {\"libraries\": [\"org.apache.thrift:libthrift:0.5.0-1\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/jvm/com/twitter/BUILD:scrooge-core\": {\"libraries\": [\"com.twitter:scrooge-core:3.12.1\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/BUILD:thrift\": {\"libraries\": [], \"targets\": [\"3rdparty/BUILD:thrift-0.5.0\"], \"roots\": [], \"test_target\": false}, \"3rdparty/BUILD:commons-lang\": {\"libraries\": [\"commons-lang:commons-lang:2.6\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/bijection/BUILD:bijection-scrooge\": {\"libraries\": [\"com.twitter:bijection-scrooge_2.9.3:0.6.2\"], \"targets\": [\"3rdparty/BUILD:thrift\", \"3rdparty/jvm/com/twitter/BUILD:scrooge-serializer\"], \"roots\": [], \"test_target\": false}, \"src/thrift/com/twitter/algebird_internal/BUILD:algebird_internal-thriftscala\": {\"libraries\": [\"com.twitter:scrooge-core:3.12.1\"], \"targets\": [], \"roots\": [\"/Users/fkorotkov/workspace/science/src/thrift/com/twitter/algebird_internal\"], \"test_target\": false}, \"src/scala/com/twitter/algebird_internal/bijection/BUILD:bijection\": {\"libraries\": [\"com.twitter:bijection-core_2.9.3:0.6.2\", \"com.twitter:algebird-core_2.9.3:0.5.0\", \"commons-lang:commons-lang:2.6\", \"org.apache.thrift:libthrift:0.5.0-1\", \"org.slf4j:slf4j-api:1.6.1\", \"org.slf4j:slf4j-jdk14:1.6.1\", \"com.twitter:scrooge-serializer:3.12.1\", \"com.twitter:bijection-scrooge_2.9.3:0.6.2\", \"com.twitter:scrooge-core:3.12.1\"], \"targets\": [], \"roots\": [\"/Users/fkorotkov/workspace/science/src/scala/com/twitter/algebird_internal/bijection\"], \"test_target\": false}, \"3rdparty/BUILD:slf4j-api\": {\"libraries\": [\"org.slf4j:slf4j-api:1.6.1\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"3rdparty/bijection/BUILD:bijection-core\": {\"libraries\": [\"com.twitter:bijection-core_2.9.3:0.6.2\"], \"targets\": [], \"roots\": [], \"test_target\": false}, \"src/scala/com/twitter/algebird_internal/injection/BUILD:injection\": {\"libraries\": [\"com.twitter:bijection-core_2.9.3:0.6.2\", \"com.twitter:algebird-core_2.9.3:0.5.0\", \"commons-lang:commons-lang:2.6\", \"org.apache.thrift:libthrift:0.5.0-1\", \"org.slf4j:slf4j-api:1.6.1\", \"org.slf4j:slf4j-jdk14:1.6.1\", \"com.twitter:scrooge-serializer:3.12.1\", \"com.twitter:bijection-scrooge_2.9.3:0.6.2\", \"com.twitter:scrooge-core:3.12.1\"], \"targets\": [], \"roots\": [\"/Users/fkorotkov/workspace/science/src/scala/com/twitter/algebird_internal/injection\"], \"test_target\": false}}}";
    final PantsDependenciesGraphResolver.ProjectInfo projectInfo = PantsDependenciesGraphResolver.parseProjectInfoFromJSON(data);
    final String mainTarget = "src/scala/com/twitter/algebird_internal/BUILD:algebird_internal";
    projectInfo.targets.get(mainTarget);
  }
}
